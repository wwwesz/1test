function createURL(a,e){var c="";return $.each(e,function(a,e){c+="&"+a+"="+e}),a+"?"+c.substr(1)}$(function(){var a=$("#search").data("area")?$("#search").data("area"):"",e=$("#search").data("subway")?$("#search").data("subway"):"",c=$("#search").data("type")?$("#search").data("type"):"",o=$("#search").data("acreage")?$("#search").data("acreage"):"",t=$("#search").data("unit_price")?$("#search").data("unit_price"):"",r=$("#search").data("keyword")?$("#search").data("keyword"):"",n=$("#search").data("renovation")?$("#search").data("renovation"):"",i=$("#search").data("block")?$("#search").data("block"):"";if(a){var s=city.wuhan[a].blocks,l="";l=i?'<span class="display-inline-block pointer p-l-10 block" data-block="">全部</span>':'<span class="display-inline-block pointer p-l-10 block color_orange" data-block="">全部</span>',$.each(s,function(a,e){l+=i&&i===e?'<span class="display-inline-block pointer p-l-10 block color_orange" data-block="">'+e+"</span>":'<span class="display-inline-block pointer p-l-10 block" data-block="'+e+'">'+e+"</span>"}),$("#block").html(l)}$(".area").click(function(){a=$(this).data("area"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".subway").click(function(){e=$(this).data("subway"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".type").click(function(){c=$(this).data("type"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".acreage").click(function(){o=$(this).data("acreage"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".unit_price").click(function(){t=$(this).data("unit_price"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".renovation").click(function(){n=$(this).data("renovation"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".keyWord").click(function(){r=r?r+"-"+$(this).data("keyword"):$(this).data("keyword"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n})}),$(".block").click(function(){i=$(this).data("block"),window.location.href=createURL("house",{area:a,subway:e,type:c,acreage:o,unit_price:t,keyword:r,renovation:n,block:i})}),$("#search-house").keyup(function(){$.ajax({url:"getBuildingInfo",data:{name:$(this).val()},success:function(a){if(200===a.StatusCode){var e="";a.ResultData.map(function(a){e+='<option value="'+a.name+'"></option>'}),$("#building").html(e)}}})}),$(".findHouse").click(function(){var a="house?";switch($("#search-house").data("type")){case 1:a+="area="+$("#search-house").val();break;case 2:a+="block="+$("#search-house").val();break;case 3:a+="build="+$("#search-house").val()}return window.location.href=a,!1})});